import React, { useMemo, useState, useEffect } from "react";

/**

CC6 Cloud Shopping App (MVP)

ëª©ì  ì¤‘ì‹¬(ë©”ë‰´íŒ)ìœ¼ë¡œ í´ë¼ìš°ë“œ ì¡°í•©ì„ ì¶”ì²œí•˜ê³  ê°€ê²¬ì ì„ ê³„ì‚°í•˜ëŠ” ì‹±ê¸€ íŒŒì¼ ì›¹ì•±


Tailwind CSS ê¸°ë°˜. ì™¸ë¶€ UI ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ ë™ì‘


ì£¼ìš” ì„¹ì…˜: ì„¸íŠ¸ë©”ë‰´, ë§ì¶¤ì¡°í•©, ì„±ì¥ê²½ë¡œ, ë‚´ ê²¬ì 


ê°€ê²©ì€ í…ŒìŠ¤íŠ¸/í•™ìŠµìš© ê°€ê²¬ì (ì„ì˜ ìˆ˜ì¹˜)ì´ë©°, Advanced íŒ¨ë„ì—ì„œ ì¡°ì • ê°€ëŠ¥


ì‚¬ìš©ë²•:

<CC6CloudShoppingApp />ë¥¼ í˜ì´ì§€ì— ë Œë”ë§í•˜ì„¸ìš”. */


// ----------------------------- ìœ í‹¸ ----------------------------- const KRW = (n:number) => n.toLocaleString("ko-KR") + "ì›"; const clamp = (n:number, a:number, b:number) => Math.min(Math.max(n, a), b);

// ----------------------------- ë°ì´í„° ëª¨ë¸ ----------------------------- export type PurposeKey = | "create:image" | "create:video" | "create:audio" | "create:text" | "dev:web" | "dev:train" | "dev:mobile" | "dev:api" | "deploy:portfolio" | "deploy:store" | "deploy:landing" | "deploy:demo" | "store:backup" | "store:assets" | "store:media" | "store:bizdocs" | "auto:payments" | "auto:email" | "auto:cron" | "auto:chatops" | "ops:monitor" | "ops:oneclick" | "ops:cost" | "ops:orchestrate";

// CC6 íƒ€ì… ì •ì˜ const CC6_TYPES = { GPU: { label: "GPUí˜•", color: "bg-purple-100 text-purple-700" }, CPU: { label: "CPUí˜•", color: "bg-sky-100 text-sky-700" }, SRV: { label: "ê²½ëŸ‰ì„œë²„í˜•", color: "bg-emerald-100 text-emerald-700" }, HOST: { label: "í˜¸ìŠ¤íŒ…í˜•", color: "bg-amber-100 text-amber-700" }, STOR: { label: "ìŠ¤í† ë¦¬ì§€í˜•", color: "bg-pink-100 text-pink-700" }, MCP: { label: "MCPí˜•", color: "bg-zinc-100 text-zinc-700" }, } as const;

// í† í•‘(ì¶”ê°€ ì˜µì…˜) const TOPPINGS = [ { id: "backup", name: "ë°±ì—…(S3 Glacier)", flatKrw: 2000 }, { id: "cdn", name: "CDN(CloudFront)", flatKrw: 10000 }, { id: "monitor", name: "ëª¨ë‹ˆí„°ë§(CloudWatch)", flatKrw: 3000 }, { id: "team", name: "íŒ€ê³µìœ (IAM)", flatKrw: 5000 }, { id: "alerts", name: "ë¹„ìš©ì•Œë¦¼(Budgets)", flatKrw: 0 }, ] as const;

// ëª©ì ë³„ ì¶”ì²œ ë§¤í•‘ const PURPOSES: Record<PurposeKey, { title: string; path: string[]; // ì¹´í…Œê³ ë¦¬ ê²½ë¡œ UIìš© recommendation: Array<{ type:keyof typeof CC6_TYPES; name: string; detail: string; priceRef: string }>; // ì„¤ëª… components: string[]; // ì»´í¬ë„ŒíŠ¸ í‚¤ (ê°€ê²© ì—”ì§„ìš©) }> = { // ì°½ì‘ "create:image": { title: "ì´ë¯¸ì§€ ìƒì„±/í¸ì§‘", path: ["ì°½ì‘"], recommendation: [ { type: "GPU", name: "g5.xlarge + Ubuntu", detail: "ComfyUI/Auto1111", priceRef: "gpu_g5_xl" }, ], components: ["gpu_g5_xl"], }, "create:video": { title: "ì˜ìƒ í¸ì§‘/ë Œë”ë§", path: ["ì°½ì‘"], recommendation: [ { type: "GPU", name: "g5.xlarge + Ubuntu", detail: "DaVinci Resolve", priceRef: "gpu_g5_xl" }, ], components: ["gpu_g5_xl"], }, "create:audio": { title: "ìŒì•… í¸ì§‘/ë¯¹ì‹±", path: ["ì°½ì‘"], recommendation: [ { type: "CPU", name: "Windows VM", detail: "Reaper/DAW", priceRef: "cpu_t3_lg_win" }, ], components: ["cpu_t3_lg_win"], }, "create:text": { title: "ê¸€ì“°ê¸°/ë¬¸ì„œ ì‘ì—…", path: ["ì°½ì‘"], recommendation: [ { type: "CPU", name: "Ubuntu VM", detail: "í…ìŠ¤íŠ¸/ì§‘í•„ë„êµ¬", priceRef: "cpu_t3_sm" }, ], components: ["cpu_t3_sm"], }, // ê°œë°œ "dev:web": { title: "ì›¹ì‚¬ì´íŠ¸/ì•± ê°œë°œ", path: ["ê°œë°œ"], recommendation: [ { type: "CPU", name: "Ubuntu VM", detail: "Node.js/Python", priceRef: "cpu_t3_sm" }, { type: "HOST", name: "Amplify", detail: "ì •ì /SSR ë°°í¬", priceRef: "host_amplify" }, ], components: ["cpu_t3_sm", "host_amplify"], }, "dev:train": { title: "AI ëª¨ë¸ í›ˆë ¨", path: ["ê°œë°œ"], recommendation: [ { type: "GPU", name: "g5.xlarge + Ubuntu", detail: "PyTorch/TRL", priceRef: "gpu_g5_xl" }, ], components: ["gpu_g5_xl"], }, "dev:mobile": { title: "ëª¨ë°”ì¼ ì•± ë¹Œë“œ", path: ["ê°œë°œ"], recommendation: [ { type: "CPU", name: "Ubuntu VM", detail: "Flutter/React Native", priceRef: "cpu_t3_lg" }, { type: "HOST", name: "Amplify", detail: "ì›¹ ë°°í¬/ë°±ì—”ë“œ", priceRef: "host_amplify" }, ], components: ["cpu_t3_lg", "host_amplify"], }, "dev:api": { title: "API/ë°±ì—”ë“œ ê°œë°œ", path: ["ê°œë°œ"], recommendation: [ { type: "SRV", name: "Lambda + API Gateway", detail: "ì„œë²„ë¦¬ìŠ¤", priceRef: "srv_lambda" }, ], components: ["srv_lambda"], }, // ë°°í¬ "deploy:portfolio": { title: "í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ì´íŠ¸", path: ["ë°°í¬"], recommendation: [ { type: "HOST", name: "Amplify + GitHub", detail: "ë„ë©”ì¸ ì—°ê²°", priceRef: "host_amplify" }, { type: "STOR", name: "S3 + CloudFront", detail: "ì •ì ì—ì…‹/ìºì‹œ", priceRef: "stor_s3_cf" }, ], components: ["host_amplify", "stor_s3_cf"], }, "deploy:store": { title: "ì•± ìŠ¤í† ì–´ ë°°í¬", path: ["ë°°í¬"], recommendation: [ { type: "CPU", name: "ë¹Œë“œ VM", detail: "CI/CD", priceRef: "cpu_t3_lg" }, { type: "HOST", name: "Amplify", detail: "ì›¹ ëŒ€ì‹œë³´ë“œ", priceRef: "host_amplify" }, ], components: ["cpu_t3_lg", "host_amplify"], }, "deploy:landing": { title: "ëœë”© í˜ì´ì§€", path: ["ë°°í¬"], recommendation: [ { type: "HOST", name: "Amplify", detail: "ì •ì /SSR", priceRef: "host_amplify" }, ], components: ["host_amplify"], }, "deploy:demo": { title: "ë°ëª¨/í”„ë¡œí† íƒ€ì…", path: ["ë°°í¬"], recommendation: [ { type: "HOST", name: "GitHub Pages", detail: "ì •ì  ë°ëª¨", priceRef: "host_pages" }, ], components: ["host_pages"], }, // ì €ì¥ "store:backup": { title: "íŒŒì¼ ë°±ì—…", path: ["ì €ì¥"], recommendation: [ { type: "STOR", name: "S3 + Glacier", detail: "ì¥ê¸°ë³´ê´€", priceRef: "stor_glacier" }, ], components: ["stor_glacier"], }, "store:assets": { title: "ì‘ì—… ê²°ê³¼ë¬¼ ë³´ê´€", path: ["ì €ì¥"], recommendation: [ { type: "STOR", name: "S3 + CloudFront", detail: "ì•„í‹°íŒ©íŠ¸ ë°°í¬", priceRef: "stor_s3_cf" }, ], components: ["stor_s3_cf"], }, "store:media": { title: "ì‚¬ì§„/ì˜ìƒ ì•„ì¹´ì´ë¸Œ", path: ["ì €ì¥"], recommendation: [ { type: "STOR", name: "S3 Intelligent-Tiering", detail: "ìë™ ê³„ì¸µ", priceRef: "stor_s3_intel" }, ], components: ["stor_s3_intel"], }, "store:bizdocs": { title: "ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì„œ", path: ["ì €ì¥"], recommendation: [ { type: "STOR", name: "S3 + SSE ì•”í˜¸í™”", detail: "ê·œì • ì¤€ìˆ˜", priceRef: "stor_s3_enc" }, ], components: ["stor_s3_enc"], }, // ìë™í™” "auto:payments": { title: "ê²°ì œ ì²˜ë¦¬", path: ["ìë™í™”"], recommendation: [ { type: "SRV", name: "Lambda + Stripe", detail: "ì›¹í›… ì²˜ë¦¬", priceRef: "srv_lambda" }, ], components: ["srv_lambda"], }, "auto:email": { title: "ì´ë©”ì¼ ì•Œë¦¼", path: ["ìë™í™”"], recommendation: [ { type: "SRV", name: "Lambda + SES", detail: "íŠ¸ëœì­ì…˜ ë©”ì¼", priceRef: "srv_lambda" }, ], components: ["srv_lambda"], }, "auto:cron": { title: "ì •ê¸° ì‘ì—…", path: ["ìë™í™”"], recommendation: [ { type: "SRV", name: "EventBridge + Lambda", detail: "í¬ë¡ ", priceRef: "srv_lambda" }, ], components: ["srv_lambda"], }, "auto:chatops": { title: "Discord/Slack ì•Œë¦¼", path: ["ìë™í™”"], recommendation: [ { type: "SRV", name: "Lambda + Webhooks", detail: "ChatOps", priceRef: "srv_lambda" }, ], components: ["srv_lambda"], }, // ê´€ë¦¬ "ops:monitor": { title: "ëª¨ë‹ˆí„°ë§/ëŒ€ì‹œë³´ë“œ", path: ["ê´€ë¦¬"], recommendation: [ { type: "MCP", name: "EC2 ê´€ì œ + ëŒ€ì‹œë³´ë“œ", detail: "MCP/ì—ì´ì „íŠ¸", priceRef: "mcp_vm" }, ], components: ["mcp_vm"], }, "ops:oneclick": { title: "ì›í´ë¦­ ë°°í¬", path: ["ê´€ë¦¬"], recommendation: [ { type: "MCP", name: "ìë™í™” ì—ì´ì „íŠ¸", detail: "ë°°í¬ íŒŒì´í”„ë¼ì¸", priceRef: "mcp_vm" }, ], components: ["mcp_vm"], }, "ops:cost": { title: "ë¹„ìš© ê´€ë¦¬", path: ["ê´€ë¦¬"], recommendation: [ { type: "MCP", name: "Budget ì•Œë¦¼", detail: "ì›”ê°„ ë¦¬í¬íŠ¸", priceRef: "mcp_vm" }, ], components: ["mcp_vm"], }, "ops:orchestrate": { title: "ì „ì²´ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜", path: ["ê´€ë¦¬"], recommendation: [ { type: "MCP", name: "Claude MCP", detail: "ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°", priceRef: "mcp_vm" }, ], components: ["mcp_vm"], }, };

// ê°€ê²© ì»´í¬ë„ŒíŠ¸ í…Œì´ë¸”(í•™ìŠµìš© ê°€ê²¬ì , ê¸°ë³¸ ì‹œê°„/ì›” ë°˜ì˜) // ê³ ê¸‰ ì„¤ì •ì—ì„œ timeHoursPerMonth ì¡°ì ˆ ê°€ëŠ¥ const DEFAULT_COSTS = { // ì¸ìŠ¤í„´ìŠ¤ (ì‹œê°„ë‹¹) gpu_g5_xl_hr: 1900, // KRW/h (ì„ì˜). ê¸°ë³¸ 40h ì‚¬ìš© ì‹œ 76,000ì› cpu_t3_sm_hr: 80,   // KRW/h cpu_t3_lg_hr: 120,  // KRW/h cpu_t3_lg_win_hr: 150, // KRW/h (Windows ë¼ì´ì„ ìŠ¤ ê°€ì‚° ê°€ì •)

// í˜¸ìŠ¤íŒ…/ì„œë²„ë¦¬ìŠ¤/ìŠ¤í† ë¦¬ì§€ (ì›” ì •ì•¡ ì¶”ì •) host_amplify_flat: 5000, host_pages_flat: 0, srv_lambda_flat: 2000, stor_s3_cf_flat: 8000, stor_glacier_flat: 2000, stor_s3_intel_flat: 6000, stor_s3_enc_flat: 4000, mcp_vm_hr: 80, };

// ì»´í¬ë„ŒíŠ¸ ìŠ¤í™(ê°€ê²© ì—”ì§„ì—ì„œ ì°¸ì¡°) const COMPONENTS: Record<string, { kind: "hourly" | "flat"; label: string; hrKey?: keyof typeof DEFAULT_COSTS; flatKey?: keyof typeof DEFAULT_COSTS; defaultHours?: number }> = { gpu_g5_xl: { kind: "hourly", label: "GPU g5.xlarge", hrKey: "gpu_g5_xl_hr", defaultHours: 40 }, cpu_t3_sm: { kind: "hourly", label: "CPU t3.small", hrKey: "cpu_t3_sm_hr", defaultHours: 60 }, cpu_t3_lg: { kind: "hourly", label: "CPU t3.large", hrKey: "cpu_t3_lg_hr", defaultHours: 60 }, cpu_t3_lg_win: { kind: "hourly", label: "CPU t3.large (Windows)", hrKey: "cpu_t3_lg_win_hr", defaultHours: 60 }, host_amplify: { kind: "flat", label: "Amplify Hosting", flatKey: "host_amplify_flat" }, host_pages: { kind: "flat", label: "GitHub Pages", flatKey: "host_pages_flat" }, srv_lambda: { kind: "flat", label: "Lambda(Serverless)", flatKey: "srv_lambda_flat" }, stor_s3_cf: { kind: "flat", label: "S3 + CloudFront", flatKey: "stor_s3_cf_flat" }, stor_glacier: { kind: "flat", label: "S3 Glacier", flatKey: "stor_glacier_flat" }, stor_s3_intel: { kind: "flat", label: "S3 Intelligent-Tiering", flatKey: "stor_s3_intel_flat" }, stor_s3_enc: { kind: "flat", label: "S3 + Encryption", flatKey: "stor_s3_enc_flat" }, mcp_vm: { kind: "hourly", label: "MCP VM", hrKey: "mcp_vm_hr", defaultHours: 120 }, };

// ì„¸íŠ¸ ë©”ë‰´ const SET_MENUS = [ { id: "ramen", name: "ğŸœ ë¼ë©´ ì„¸íŠ¸ (ì…ë¬¸)", desc: "ê¸€ì“°ê¸° + í¬íŠ¸í´ë¦¬ì˜¤", includes: ["create:text", "deploy:portfolio"], toppings: ["backup", "alerts"], }, { id: "bento", name: "ğŸ± ë„ì‹œë½ ì„¸íŠ¸ (í¬ë¦¬ì—ì´í„°)", desc: "AI ê·¸ë¦¼ + í¬íŠ¸í´ë¦¬ì˜¤ + ë°±ì—…", includes: ["create:image", "deploy:portfolio", "store:assets"], toppings: ["cdn", "backup"], }, { id: "fullcourse", name: "ğŸ– í’€ì½”ìŠ¤ ì„¸íŠ¸ (í”„ë¡œë“€ì„œ)", desc: "ìŒì•… + ì˜ìƒ + ìë™í™”", includes: ["create:audio", "create:video", "auto:cron"], toppings: ["monitor", "alerts", "team"], }, ] as const;

// RPG ì„±ì¥ ë‹¨ê³„(ì‹œê°ì  ì•ˆë‚´) const LEVELS = [ { level: 1, title: "ê°œì¸", tips: "GPU ë˜ëŠ” í˜¸ìŠ¤íŒ… í•˜ë‚˜ë¡œ ì‹œì‘" }, { level: 2, title: "ì†Œê·œëª¨ íŒ€", tips: "GPU + í˜¸ìŠ¤íŒ… ì¡°í•©" }, { level: 3, title: "ìŠ¤íŠœë””ì˜¤", tips: "GPU + CPU + ìë™í™”" }, { level: 4, title: "ê¸°ì—…", tips: "ì „ì²´ CC6 + ê³ ê°€ìš©ì„±" }, ];

// ----------------------------- ì»´í¬ë„ŒíŠ¸ ----------------------------- const Section: React.FC<{title:string; subtitle?:string; right?:React.ReactNode}> = ({title, subtitle, right, children}) => (

  <section className="mb-8">
    <div className="flex items-end justify-between gap-4 mb-3">
      <div>
        <h2 className="text-xl font-bold">{title}</h2>
        {subtitle && <p className="text-sm text-zinc-500 mt-1">{subtitle}</p>}
      </div>
      {right}
    </div>
    <div className="bg-white/70 rounded-2xl p-4 shadow-sm ring-1 ring-zinc-100">
      {children}
    </div>
  </section>
);const Chip: React.FC<{active?:boolean; onClick?:()=>void; children:React.ReactNode}> = ({active, onClick, children}) => ( <button onClick={onClick} className={[ "px-3 py-1 rounded-full border text-sm transition", active ? "bg-black text-white border-black" : "bg-white hover:bg-zinc-50 border-zinc-200" ].join(" ")}

> {children}</button> );



const Pill: React.FC<{scheme?:string}> = ({scheme="bg-zinc-100 text-zinc-700", children}) => ( <span className={px-2.5 py-1 rounded-full text-xs font-medium ${scheme}}>{children}</span> );

// ----------------------------- ë©”ì¸ ì•± ----------------------------- export default function CC6CloudShoppingApp(){ // ì„ íƒ ìƒíƒœ const [selectedPurposes, setSelectedPurposes] = useState<PurposeKey[]>([]); const [selectedToppings, setSelectedToppings] = useState<string[]>([]); const [tab, setTab] = useState<"set"|"custom"|"levels"|"quote">("set");

// ê³ ê¸‰ ì„¤ì •(ê°€ê²¬ì ) const [costs, setCosts] = useState(DEFAULT_COSTS); const [hours, setHours] = useState<Record<string, number>>(()=>{ // ê° ì»´í¬ë„ŒíŠ¸ë³„ ê¸°ë³¸ ì‹œê°„ const h: Record<string, number> = {}; Object.entries(COMPONENTS).forEach(([key, spec])=>{ if(spec.kind === "hourly") h[key] = spec.defaultHours ?? 40; }); return h; });

// ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë¡œë“œ/ì„¸ì´ë¸Œ useEffect(()=>{ try{ const raw = localStorage.getItem("cc6_app_state_v1"); if(raw){ const s = JSON.parse(raw); if(s.selectedPurposes) setSelectedPurposes(s.selectedPurposes); if(s.selectedToppings) setSelectedToppings(s.selectedToppings); if(s.costs) setCosts(s.costs); if(s.hours) setHours(s.hours); } }catch{} },[]); useEffect(()=>{ const payload = { selectedPurposes, selectedToppings, costs, hours }; localStorage.setItem("cc6_app_state_v1", JSON.stringify(payload)); },[selectedPurposes, selectedToppings, costs, hours]);

// ìœ ë„: ëª©ì ë³„ ì»´í¬ë„ŒíŠ¸ ì§‘í•© const componentKeys = useMemo(()=>{ const keys = new Set<string>(); selectedPurposes.forEach(k => PURPOSES[k]?.components.forEach(c=>keys.add(c))); return [...keys]; },[selectedPurposes]);

// ê°€ê²¬ì  ê³„ì‚° const baseCost = useMemo(()=>{ let sum = 0; for(const key of componentKeys){ const spec = COMPONENTS[key]; if(!spec) continue; if(spec.kind === "hourly" && spec.hrKey){ const hr = costs[spec.hrKey]; const h = hours[key] ?? (spec.defaultHours ?? 0); sum += hr * h; } else if(spec.kind === "flat" && spec.flatKey){ sum += costs[spec.flatKey]; } } return sum; },[componentKeys, costs, hours]);

const toppingsCost = useMemo(()=>{ return selectedToppings.reduce((acc, id)=>{ const t = TOPPINGS.find(x=>x.id===id); return acc + (t?.flatKrw ?? 0); }, 0); },[selectedToppings]);

const totalCost = baseCost + toppingsCost;

// ì¶”ì²œ CC6 íƒ€ì… ì§‘ê³„ const cc6Types = useMemo(()=>{ const set = new Set<keyof typeof CC6_TYPES>(); selectedPurposes.forEach(key => { PURPOSES[key].recommendation.forEach(r=> set.add(r.type)); }); return [...set]; },[selectedPurposes]);

// ìŠ¤í™ YAML ìƒì„± const specYAML = useMemo(()=>{ const lines:string[] = []; lines.push("cc6_plan:"); lines.push("  purposes:"); selectedPurposes.forEach(k=>{ lines.push(    - key: ${k}); lines.push(      title: \"${PURPOSES[k].title}\"); const recs = PURPOSES[k].recommendation.map(r=>${CC6_TYPES[r.type].label} - ${r.name} (${r.detail})); lines.push(      recommend: [${recs.map(v=>"${v}").join(", ")}]); }); lines.push("  cc6_types:"); cc6Types.forEach(t=>{ lines.push(    - ${CC6_TYPES[t].label}); }); lines.push("  components:"); componentKeys.forEach(k=>{ const spec = COMPONENTS[k]; if(spec.kind === "hourly"){ lines.push(    - id: ${k}); lines.push(      label: \"${spec.label}\"); lines.push(      kind: hourly); lines.push(      unit_krw_per_hour: ${spec.hrKey ? costs[spec.hrKey!] : 0}); lines.push(      hours_per_month: ${hours[k] ?? spec.defaultHours ?? 0}); } else { lines.push(    - id: ${k}); lines.push(      label: \"${spec.label}\"); lines.push(      kind: flat); lines.push(      flat_krw_per_month: ${spec.flatKey ? costs[spec.flatKey!] : 0}); } }); lines.push("  toppings:"); selectedToppings.forEach(id=>{ const t = TOPPINGS.find(x=>x.id===id)!; lines.push(    - id: ${id}); lines.push(      name: \"${t.name}\"); lines.push(      flat_krw_per_month: ${t.flatKrw}); }); lines.push("  estimate:"); lines.push(    base_krw: ${baseCost}); lines.push(    toppings_krw: ${toppingsCost}); lines.push(    total_krw: ${totalCost}); lines.push("  disclaimer: "ë³¸ ê²¬ì ì€ í•™ìŠµ/í…ŒìŠ¤íŠ¸ìš© ì„ì˜ ìˆ˜ì¹˜ì…ë‹ˆë‹¤. ì‹¤ì œ ìš”ê¸ˆì€ ë¦¬ì „/ì‚¬ìš©ëŸ‰/ì •ì±…ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.""); return lines.join("\n"); },[selectedPurposes, cc6Types, componentKeys, costs, hours, selectedToppings, baseCost, toppingsCost, totalCost]);

// ë³µì‚¬ const copy = async (text:string) => { try { await navigator.clipboard.writeText(text); alert("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤"); } catch { /* ignore */ } };

// UI í—¬í¼: ëª©ì  ì¹´ë“œ const PurposeCard: React.FC<{k:PurposeKey}> = ({k}) => { const active = selectedPurposes.includes(k); const toggle = () => setSelectedPurposes(p=> active ? p.filter(x=>x!==k) : [...p, k]); const rec = PURPOSES[k].recommendation[0]; return ( <button onClick={toggle} className={text-left rounded-2xl border p-4 transition shadow-sm hover:shadow ${active?"border-black bg-black text-white":"border-zinc-200 bg-white"}}> <div className="flex items-center justify-between"> <h4 className="font-semibold">{PURPOSES[k].title}</h4> <Pill scheme={CC6_TYPES[rec.type].color}>{CC6_TYPES[rec.type].label}</Pill> </div> <p className={mt-1 text-sm ${active?"text-zinc-200":"text-zinc-500"}}>{rec.name} Â· {rec.detail}</p> </button> ); };

// ì¹´í…Œê³ ë¦¬ ë¬¶ê¸° const groups: Array<{name:string; keys: PurposeKey[]}> = [ { name: "ì°½ì‘", keys: ["create:image","create:video","create:audio","create:text"] }, { name: "ê°œë°œ", keys: ["dev:web","dev:train","dev:mobile","dev:api"] }, { name: "ë°°í¬", keys: ["deploy:portfolio","deploy:store","deploy:landing","deploy:demo"] }, { name: "ì €ì¥", keys: ["store:backup","store:assets","store:media","store:bizdocs"] }, { name: "ìë™í™”", keys: ["auto:payments","auto:email","auto:cron","auto:chatops"] }, { name: "ê´€ë¦¬", keys: ["ops:monitor","ops:oneclick","ops:cost","ops:orchestrate"] }, ];

// ë Œë” return ( <div className="max-w-6xl mx-auto px-4 py-8"> <header className="mb-6"> <h1 className="text-2xl md:text-3xl font-black tracking-tight">CC6 í´ë¼ìš°ë“œ ì‡¼í•‘ëª° (MVP)</h1> <p className="text-zinc-600 mt-2">"ë‚´ê°€ í•˜ê³  ì‹¶ì€ ê²Œ ë­”ë°?" â†’ ì„¸íŠ¸/í† í•‘ í´ë¦­ìœ¼ë¡œ ì¡°í•©ì´ ì™„ì„±ë˜ê³ , í•™ìŠµìš© ê°€ê²¬ì ì´ ë°”ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.</p> </header>

{/* íƒ­ */}
  <div className="flex gap-2 mb-4">
    <Chip active={tab==="set"} onClick={()=>setTab("set")}>ì„¸íŠ¸ë©”ë‰´</Chip>
    <Chip active={tab==="custom"} onClick={()=>setTab("custom")}>ë§ì¶¤ì¡°í•©</Chip>
    <Chip active={tab==="levels"} onClick={()=>setTab("levels")}>ì„±ì¥ê²½ë¡œ</Chip>
    <Chip active={tab==="quote"} onClick={()=>setTab("quote")}>ë‚´ ê²¬ì </Chip>
  </div>

  {tab==="set" && (
    <>
      <Section title="ê°€ê²©ëŒ€ë³„ ì„¸íŠ¸ ë©”ë‰´" subtitle="ì…ë¬¸â†’í”„ë¡œë“€ì„œê¹Œì§€ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ êµ¬ì„±">
        <div className="grid md:grid-cols-3 gap-4">
          {SET_MENUS.map(set=>{
            const apply = () => {
              setSelectedPurposes(set.includes as PurposeKey[]);
              setSelectedToppings(set.toppings);
              setTab("quote");
            };
            return (
              <div key={set.id} className="rounded-2xl border p-4 bg-white shadow-sm">
                <div className="flex items-center justify-between">
                  <div>
                    <h3 className="font-bold text-lg">{set.name}</h3>
                    <p className="text-sm text-zinc-500">{set.desc}</p>
                  </div>
                  <button onClick={apply} className="px-3 py-1.5 rounded-full bg-black text-white text-sm">ë‹´ê¸°</button>
                </div>
                <div className="mt-3">
                  <p className="text-xs text-zinc-500">êµ¬ì„±</p>
                  <ul className="mt-1 space-y-1 text-sm">
                    {set.includes.map(k=> (
                      <li key={k} className="flex items-center gap-2">
                        <span className="w-2 h-2 rounded-full bg-zinc-300"/>
                        {PURPOSES[k].title}
                      </li>
                    ))}
                  </ul>
                  <p className="text-xs text-zinc-500 mt-3">í† í•‘</p>
                  <div className="flex flex-wrap gap-2 mt-1">
                    {set.toppings.map(id=>{
                      const t = TOPPINGS.find(x=>x.id===id)!;
                      return <Pill key={id}>{t.name}</Pill>
                    })}
                  </div>
                </div>
              </div>
            );
          })}
        </div>
      </Section>

      <Section title="ê°€ì´ë“œ ì² í•™" subtitle="ê¸°ìˆ ìš©ì–´ë³´ë‹¤ ëª©ì â†’ì˜µì…˜â†’ì¡°í•©â†’ë¹„ìš©ì˜ ì§ì„  íë¦„">
        <div className="grid md:grid-cols-4 gap-3">
          {Object.values(CC6_TYPES).map((v,i)=> (
            <div key={i} className="rounded-2xl border p-4">
              <div className="flex items-center justify-between">
                <h4 className="font-semibold">{v.label}</h4>
                <span className={`text-xs px-2 py-0.5 rounded ${v.color}`}>CC6</span>
              </div>
              <p className="text-sm text-zinc-500 mt-1">ì—­í•  íŠ¹í™” íƒ€ì…. ë©”ë‰´íŒì—ì„œ ìë™ìœ¼ë¡œ ì¡°í•©ë©ë‹ˆë‹¤.</p>
            </div>
          ))}
        </div>
      </Section>
    </>
  )}

  {tab==="custom" && (
    <>
      <Section title="ëª©ì  ì„ íƒ" subtitle="í•„ìš”í•œ ê²ƒë§Œ ì²´í¬í•˜ë©´ ì¡°í•©ê³¼ ê²¬ì ì´ ìë™ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤." right={<button onClick={()=>{setSelectedPurposes([]); setSelectedToppings([]);}} className="text-sm underline">ì´ˆê¸°í™”</button>}>
        {groups.map(g=> (
          <div key={g.name} className="mb-5">
            <h3 className="font-semibold mb-2">{g.name}</h3>
            <div className="grid md:grid-cols-2 gap-3">
              {g.keys.map(k=> <PurposeCard key={k} k={k}/>) }
            </div>
          </div>
        ))}
      </Section>

      <Section title="í† í•‘ ì¶”ê°€" subtitle="ì¶”ê°€ ê¸°ëŠ¥ì„ í† í•‘ì²˜ëŸ¼ ì–¹ì–´ë³´ì„¸ìš”.">
        <div className="flex flex-wrap gap-2">
          {TOPPINGS.map(t=>{
            const active = selectedToppings.includes(t.id);
            const toggle = ()=> setSelectedToppings(v=> active? v.filter(x=>x!==t.id) : [...v, t.id]);
            return (
              <Chip key={t.id} active={active} onClick={toggle}>
                {t.name} Â· {KRW(t.flatKrw)}
              </Chip>
            );
          })}
        </div>
      </Section>

      <Section title="êµ¬ì„± ë¯¸ë¦¬ë³´ê¸°" subtitle="ì„ íƒì— ë”°ë¼ í•„ìš”í•œ ì¸í”„ë¼ ì»´í¬ë„ŒíŠ¸ê°€ ìë™ìœ¼ë¡œ ëª¨ì…ë‹ˆë‹¤.">
        {componentKeys.length === 0 ? (
          <p className="text-sm text-zinc-500">ëª©ì ì„ ì„ íƒí•˜ë©´ ì—¬ê¸°ì— í•„ìš”í•œ êµ¬ì„± ìš”ì†Œê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
        ) : (
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-3">
            {componentKeys.map(key=>{
              const spec = COMPONENTS[key];
              return (
                <div key={key} className="rounded-2xl border p-4 bg-white">
                  <h4 className="font-semibold">{spec.label}</h4>
                  {spec.kind === "hourly" ? (
                    <div className="mt-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-zinc-500">ë‹¨ê°€(ì‹œê°„)</span>
                        <span className="font-medium">{KRW(costs[spec.hrKey!])}/h</span>
                      </div>
                      <div className="mt-2">
                        <label className="text-xs text-zinc-500">ì›” ì‚¬ìš©ì‹œê°„: {hours[key]}h</label>
                        <input type="range" min={0} max={300} value={hours[key]??0}
                               onChange={e=> setHours(h=> ({...h, [key]: parseInt(e.target.value)}))}
                               className="w-full"/>
                      </div>
                      <div className="flex items-center justify-between mt-2">
                        <span className="text-zinc-500">ì†Œê³„</span>
                        <span className="font-semibold">{KRW((hours[key]??0) * (costs[spec.hrKey!]))}</span>
                      </div>
                    </div>
                  ) : (
                    <div className="mt-2 text-sm flex items-center justify-between">
                      <span className="text-zinc-500">ì›” ì •ì•¡</span>
                      <span className="font-semibold">{KRW(costs[spec.flatKey!])}</span>
                    </div>
                  )}
                </div>
              );
            })}
          </div>
        )}
      </Section>
    </>
  )}

  {tab==="levels" && (
    <>
      <Section title="RPG ì„±ì¥ ê²½ë¡œ" subtitle="í•™ìŠµ/ìš´ì˜ ë‹¨ê³„ì— ë”°ë¼ í™•ì¥ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.">
        <div className="grid md:grid-cols-4 gap-3">
          {LEVELS.map(l=> (
            <div key={l.level} className="rounded-2xl border p-4">
              <div className="flex items-center gap-2">
                <div className="w-8 h-8 rounded-full bg-zinc-900 text-white grid place-items-center font-bold">{l.level}</div>
                <h4 className="font-semibold">{l.title}</h4>
              </div>
              <p className="text-sm text-zinc-500 mt-2">{l.tips}</p>
            </div>
          ))}
        </div>
      </Section>

      <Section title="ë ˆë²¨ì—… ì¶”ì²œ" subtitle="ë‹¨ê³„ì— ë§ëŠ” ì„¸íŠ¸ë©”ë‰´ë¥¼ ë°”ë¡œ ë‹´ì„ ìˆ˜ ìˆì–´ìš”.">
        <div className="flex flex-wrap gap-3">
          {SET_MENUS.map(s=> (
            <Chip key={s.id} onClick={()=>{setSelectedPurposes(s.includes as PurposeKey[]); setSelectedToppings(s.toppings); setTab("quote");}}>
              {s.name}
            </Chip>
          ))}
        </div>
      </Section>
    </>
  )}

  {tab==="quote" && (
    <>
      <Section title="ë‚´ ê²¬ì " subtitle="í•™ìŠµìš© ê°€ê²¬ì ì…ë‹ˆë‹¤. ì‹¤ì œ ê³¼ê¸ˆê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”.">
        <div className="grid md:grid-cols-3 gap-4">
          <div className="md:col-span-2">
            <div className="rounded-2xl border p-4 bg-white">
              <h4 className="font-semibold">ì„ íƒí•œ ëª©ì </h4>
              {selectedPurposes.length === 0 ? (
                <p className="text-sm text-zinc-500 mt-1">ì•„ì§ ì„ íƒëœ ëª©ì ì´ ì—†ì–´ìš”. ì„¸íŠ¸ë©”ë‰´ ë˜ëŠ” ë§ì¶¤ì¡°í•©ì—ì„œ ë‹´ì•„ë³´ì„¸ìš”.</p>
              ) : (
                <ul className="mt-2 space-y-1 text-sm">
                  {selectedPurposes.map(k=> (
                    <li key={k} className="flex items-center gap-2">
                      <span className="w-2 h-2 rounded-full bg-zinc-300"/>
                      {PURPOSES[k].title}
                    </li>
                  ))}
                </ul>
              )}
              <div className="mt-4">
                <h4 className="font-semibold">í† í•‘</h4>
                <div className="flex flex-wrap gap-2 mt-2">
                  {selectedToppings.length===0 && <span className="text-sm text-zinc-500">ì„ íƒëœ í† í•‘ ì—†ìŒ</span>}
                  {selectedToppings.map(id=>{
                    const t = TOPPINGS.find(x=>x.id===id)!;
                    return <Pill key={id}>{t.name}</Pill>
                  })}
                </div>
              </div>
            </div>

            <div className="rounded-2xl border p-4 bg-white mt-4">
              <h4 className="font-semibold">YAML ìŠ¤í™</h4>
              <pre className="mt-2 bg-zinc-50 p-3 rounded-lg text-xs overflow-auto whitespace-pre-wrap">{specYAML}</pre>
              <div className="flex gap-2 mt-2">
                <button onClick={()=>copy(specYAML)} className="px-3 py-1.5 rounded bg-black text-white text-sm">ë³µì‚¬</button>
                <button onClick={()=>{
                  const blob = new Blob([specYAML], {type: 'text/yaml'});
                  const url = URL.createObjectURL(blob);
                  const a = document.createElement('a');
                  a.href = url; a.download = 'cc6-plan.yaml'; a.click(); URL.revokeObjectURL(url);
                }} className="px-3 py-1.5 rounded border text-sm">ë‹¤ìš´ë¡œë“œ</button>
              </div>
            </div>
          </div>

          <div>
            <div className="rounded-2xl border p-4 bg-white sticky top-6">
              <h4 className="font-semibold">ê°€ê²¬ì  í•©ê³„</h4>
              <div className="mt-2 text-sm flex items-center justify-between"><span className="text-zinc-500">ê¸°ë³¸</span><span className="font-semibold">{KRW(baseCost)}</span></div>
              <div className="mt-1 text-sm flex items-center justify-between"><span className="text-zinc-500">í† í•‘</span><span className="font-semibold">{KRW(toppingsCost)}</span></div>
              <div className="mt-2 pt-2 border-t flex items-center justify-between text-lg font-extrabold">
                <span>ì´í•©</span>
                <span>{KRW(totalCost)}</span>
              </div>
              <p className="text-xs text-zinc-500 mt-2">â€» ì‹¤ì œ ìš”ê¸ˆì€ ë¦¬ì „/í• ì¸/ìš©ëŸ‰/ë°ì´í„° ì „ì†¡ëŸ‰ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

              <details className="mt-4">
                <summary className="cursor-pointer text-sm font-semibold">Advanced (ë‹¨ê°€/ì‹œê°„ ì¡°ì •)</summary>
                <div className="pt-3 space-y-3">
                  {Object.entries(COMPONENTS).map(([key, spec])=> (
                    <div key={key} className="rounded-lg border p-3">
                      <div className="flex items-center justify-between">
                        <span className="text-sm font-medium">{spec.label}</span>
                      </div>
                      {spec.kind === "hourly" ? (
                        <div className="grid grid-cols-2 gap-3 mt-2 items-center">
                          <label className="text-xs text-zinc-500">ë‹¨ê°€(KRW/h)</label>
                          <input type="number" className="border rounded px-2 py-1 text-sm"
                                 value={costs[spec.hrKey!]}
                                 onChange={e=> setCosts(c=> ({...c, [spec.hrKey!]: clamp(parseInt(e.target.value||"0"),0, 100000)}))}/>
                          <label className="text-xs text-zinc-500">ì›” ì‚¬ìš©ì‹œê°„</label>
                          <input type="number" className="border rounded px-2 py-1 text-sm"
                                 value={hours[key]??0}
                                 onChange={e=> setHours(h=> ({...h, [key]: clamp(parseInt(e.target.value||"0"),0, 720)}))}/>
                        </div>
                      ) : (
                        <div className="grid grid-cols-2 gap-3 mt-2 items-center">
                          <label className="text-xs text-zinc-500">ì›” ì •ì•¡(KRW)</label>
                          <input type="number" className="border rounded px-2 py-1 text-sm"
                                 value={costs[spec.flatKey!]}
                                 onChange={e=> setCosts(c=> ({...c, [spec.flatKey!]: clamp(parseInt(e.target.value||"0"),0, 10000000)}))}/>
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              </details>
            </div>
          </div>
        </div>
      </Section>
    </>
  )}

  <footer className="text-xs text-zinc-500 mt-10">
    Â© 2025 CC6 Cloud Shopping MVP Â· ë³¸ ì•±ì˜ ê°€ê²©ì€ í•™ìŠµìš© ê°€ê²¬ì ì´ë©° ì‹¤ì œ ì„œë¹„ìŠ¤ì™€ ë‹¤ë¦…ë‹ˆë‹¤.
  </footer>
</div>

); }

